<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Formulario de Registro</title>
    <link rel="stylesheet" href="../../css/formulario/formulario.css">
    
</head>
<body>
    <!-- Contenedor para el navbar -->
    <header id="navbarContainer"></header>
    <h1>Formulario de Registro</h1>
    <p>Por favor, completa este formulario con la información requerida</p>
    <form method="post" action='https://register-demo.freecodecamp.org'>
        <fieldset>
            <label for="first-name">Ingresa tu nombre: <input id="first-name" name="first-name" type="text" required /></label>
            <label for="last-name">Ingresa tu apellido: <input id="last-name" name="last-name" type="text" required /></label>
            <label for="email">Ingresa tu correo electrónico: <input id="email" name="email" type="email" required /></label>
            <label for="new-password">Crea una nueva contraseña: <input id="new-password" name="new-password" type="password" pattern="[a-z0-5]{8,}" required /></label>
        </fieldset>
        <fieldset>
            <legend>Tipo de cuenta (requerido)</legend>
            <label for="personal-account"><input id="personal-account" type="radio" name="account-type" class="inline" checked /> Personal</label>
            <label for="business-account"><input id="business-account" type="radio" name="account-type" class="inline" /> Negocios</label>
        </fieldset>
        <fieldset>
            <label for="profile-picture">Sube una foto de perfil: <input id="profile-picture" type="file" name="file" /></label>
            <label for="age">Ingresa tu edad (años): <input id="age" type="number" name="age" min="13" max="120" /></label>
            <label for="referrer">¿Cómo te enteraste de nosotros?
                <select id="referrer" name="referrer">
                    <option value="">(selecciona uno)</option>
                    <option value="1">Instagram</option>
                    <option value="2">Facebook</option>
                    <option value="3">Conocidos</option>
                    <option value="4">Otro</option>
                </select>
            </label>
            <label for="bio">Proporciona una biografía:
                <textarea id="bio" name="bio" rows="3" cols="30" placeholder="Algún dato adicional que quiera agregar..."></textarea>
            </label>
        </fieldset>
        <label for="terms-and-conditions">
            <input class="inline" id="terms-and-conditions" type="checkbox" required name="terms-and-conditions" /> Acepto los <a href="https://www.freecodecamp.org/news/terms-of-service/">términos y condiciones</a>
        </label>
        <span id="referrer-error" class="error-message"></span>
        <label for="bio"
          >Proporciona una biografía:
          <textarea
            id="bio"
            name="bio"
            rows="3"
            cols="30"
            placeholder="Me gusta programar en la playa..."
          ></textarea>
        </label>
      </fieldset>
      <label for="terms-and-conditions">
        <input
          class="inline"
          id="terms-and-conditions"
          type="checkbox"
          required
          name="terms-and-conditions"
        />
        Acepto los
        <a href="https://www.freecodecamp.org/news/terms-of-service/"
          >términos y condiciones</a
        >
      </label>
      <span id="terms-error" class="error-message"></span>
      <input type="submit" value="Enviar" />
    </form>
    <script>
        // Función para cargar el contenido del navbar
        fetch('../../html/home/navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbarContainer').innerHTML = data;
            });
        </script>
        
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('registrationForm');
            
            form.addEventListener('submit', function (event) {
                let isValid = true;
                
                // Validar nombre
                const firstName = document.getElementById('first-name');
                if (firstName.value.trim() === '') {
                    showError('first-name-error', 'El nombre es obligatorio.');
                    isValid = false;
                } else {
                    hideError('first-name-error');
                }

                // Validar apellido
                const lastName = document.getElementById('last-name');
                if (lastName.value.trim() === '') {
                    showError('last-name-error', 'El apellido es obligatorio.');
                    isValid = false;
                } else {
                    hideError('last-name-error');
                }

                // Validar email
                const email = document.getElementById('email');
                if (!validateEmail(email.value)) {
                    showError('email-error', 'Por favor, introduce un correo electrónico válido.');
                    isValid = false;
                } else {
                    hideError('email-error');
                }

                // Validar contraseña
                const password = document.getElementById('new-password');
                const passwordPattern = /^[a-z0-5]{8,}$/;
                if (!passwordPattern.test(password.value)) {
                    showError('password-error', 'La contraseña debe tener al menos 8 caracteres y contener solo letras minúsculas y números.');
                    isValid = false;
                } else {
                    hideError('password-error');
                }

                // Validar edad
                const age = document.getElementById('age');
                if (age.value !== '' && (age.value < 13 || age.value > 120)) {
                    showError('age-error', 'La edad debe estar entre 13 y 120 años.');
                    isValid = false;
                } else {
                    hideError('age-error');
                }

                if (!isValid) {
                    event.preventDefault(); // Evitar el envío del formulario si hay errores
                }
            });

            function showError(elementId, message) {
                const element = document.getElementById(elementId);
                element.textContent = message;
                element.style.display = 'block';
            }

            function hideError(elementId) {
                const element = document.getElementById(elementId);
                element.textContent = '';
                element.style.display = 'none';
            }

            function validateEmail(email) {
                const re = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                return re.test(email);
            }
        });
    </script>
</body>
</html>
